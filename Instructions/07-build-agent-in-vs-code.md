---
lab:
  title: VS Code 확장을 사용하여 AI 에이전트 개발
  description: Azure AI Foundry VS Code 확장을 사용하여 AI 에이전트를 만듭니다.
---

# VS Code 확장을 사용하여 AI 에이전트 개발

이 연습에서는 Azure AI Foundry VS Code 확장을 사용하여 MCP(모델 컨텍스트 프로토콜) 서버 도구를 사용하여 외부 데이터 원본 및 API에 액세스할 수 있는 에이전트를 만듭니다. 에이전트는 MCP 도구를 통해 최신 정보를 검색하고 다양한 서비스와 상호 작용할 수 있습니다.

이 연습을 완료하는 데 약 **30**분 정도 소요됩니다.

> **참고**: 이 연습에 사용된 일부 기술은 미리 보기이거나 현재 개발 중에 있습니다. 예기치 않은 동작, 경고 또는 오류가 발생할 수 있습니다.

## 필수 조건

이 연습을 시작하기 전에 다음이 있는지 확인합니다.
- Visual Studio Code가 설치됨
- 활성 Azure 구독

## Azure AI Foundry VS Code 확장 설치

먼저 VS Code 확장을 설치하고 설정해 보겠습니다.

1. Visual Studio Code를 엽니다.

1. 왼쪽 창에서 **확장**을 선택하거나 **Ctrl+Shift+X**를 누릅니다.

1. 검색 창에서 **Azure AI Foundry**를 입력하고 Enter 키를 누릅니다.

1. Microsoft에서 **Azure AI Foundry** 확장을 선택하고 **설치**를 클릭합니다.

1. 설치가 완료되면 Visual Studio Code 왼쪽의 기본 탐색 모음에 확장이 표시되는지 확인합니다.

## Azure에 로그인하고 프로젝트 만들기

이제 Azure 리소스에 연결하고 새 AI Foundry 프로젝트를 만듭니다.

1. VS Code 사이드바에서 **Azure AI Foundry** 확장 아이콘을 선택합니다.

1. Azure 리소스 보기에서 **Azure에 로그인...** 을 선택하고 인증 프롬프트를 따릅니다.

1. 로그인한 후 드롭다운에서 Azure 구독을 선택합니다.

1. Azure AI Foundry 확장 보기에서 **리소스** 옆에 있는 **+**(더하기) 아이콘을 선택하여 새 Azure AI Foundry 프로젝트를 만듭니다.

1. 새 리소스 그룹을 만들지 아니면 기존 리소스 그룹을 사용할지를 선택합니다.
   
   **새 리소스 그룹을 만들려면 다음을 수행합니다**.
   - **새 리소스 그룹 만들기**를 선택하고 Enter 키를 누릅니다.
   - 리소스 그룹의 이름(예: "rg-ai-agents-lab")을 입력하고 Enter 키를 누릅니다.
   - 사용 가능한 옵션에서 위치를 선택하고 Enter 키를 누릅니다.
   
   **기존 리소스 그룹을 사용하려면 다음을 수행합니다.**
   - 목록에서 사용할 리소스 그룹을 선택하고 Enter 키를 누릅니다.

1. 텍스트 상자에 Azure AI Foundry 프로젝트의 이름(예: "ai-agents-project")을 입력하고 Enter 키를 누릅니다.

1. 프로젝트 배포가 완료되기를 기다립니다. "프로젝트가 배포되었습니다."라는 메시지와 함께 팝업이 나타납니다.

## 모델 배포

에이전트와 함께 사용하려면 배포된 모델이 필요합니다.

1. "프로젝트가 배포되었습니다." 팝업이 나타나면 **모델 배포** 단추를 선택합니다. 그러면 모델 카탈로그가 열립니다.

   > **팁**: 리소스 섹션에서 **모델** 옆에 있는 **+** 아이콘을 선택하거나 **F1** 키를 누르고 명령 **Azure AI Foundry: 모델 카탈로그 열기**를 실행하여 모델 카탈로그에 액세스할 수도 있습니다.

1. 모델 카탈로그에서 **gpt-4o** 모델을 찾습니다(검색 창을 사용하여 신속하게 찾을 수 있음).

    ![Azure AI Foundry VS Code 확장의 모델 카탈로그 스크린샷](Media/vs-code-model.png)

1. gpt-4o 모델 옆에 있는 **Azure에서 배포**를 선택합니다.

1. 배포 설정을 구성합니다.
   - **배포 이름**: "gpt-4o-deployment"와 같은 이름을 입력합니다.
   - **배포 유형**: **글로벌 표준**(또는 글로벌 표준을 사용할 수 없는 경우 **표준**)을 선택합니다.
   - **모델 버전**: 기본값 유지
   - **분당 토큰 수**: 기본값 유지

1. 왼쪽 아래 모서리에 있는 **Azure AI Foundry에 배포**를 선택합니다.

1. 확인 대화 상자에서 **배포**를 선택하여 모델을 배포합니다.

1. 배포가 완료될 때가지 기다립니다. 배포된 모델은 리소스 보기의 **모델** 섹션 아래에 표시됩니다.

## 디자이너 뷰를 사용하여 AI 에이전트 만들기

이제 비주얼 디자이너 인터페이스를 사용하여 AI 에이전트를 만듭니다.

1. Azure AI Foundry 확장 보기에서 **리소스** 섹션을 찾습니다.

1. **에이전트** 하위 섹션 옆에 있는 **+**(더하기) 아이콘을 선택하여 새 AI 에이전트를 만듭니다.

    ![Azure AI Foundry VS Code 확장에서 에이전트를 만드는 스크린샷](Media/vs-code-new-agent.png)

1. 메시지가 표시되면 에이전트 파일을 저장할 위치를 선택합니다.

1. 에이전트 디자이너 뷰가 `.yaml` 구성 파일과 함께 열립니다.

### 디자이너에서 에이전트 구성

1. 에이전트 디자이너에서 다음 필드를 구성합니다.
   - **이름**: 에이전트의 설명이 포함된 이름 입력(예: "data-research-agent")
   - **설명**: 에이전트의 용도를 설명하는 설명 추가
   - **모델**: 드롭다운에서 GPT-4o 배포 선택
   - **지침**: 다음과 같은 시스템 지침을 입력합니다.
     ```
     You are an AI agent that helps users research information from various sources. Use the available tools to access up-to-date information and provide comprehensive responses based on external data sources.
     ```

1. VS Code 메뉴 모음에서 **파일 > 저장**을 선택하여 구성을 저장합니다.

## 에이전트에 MCP 서버 도구 추가

이제 에이전트가 외부 API 및 데이터 원본에 액세스할 수 있도록 하는 MCP(모델 컨텍스트 프로토콜) 서버 도구를 추가합니다.

1. 디자이너의 **도구** 섹션에서 오른쪽 위 모서리에 있는 **도구 추가** 단추를 선택합니다.

![Azure AI Foundry VS Code 확장의 에이전트에 도구를 추가하는 스크린샷](Media/vs-code-agent-tools.png)

1. 드롭다운 메뉴에서 **MCP 서버**를 선택합니다.

1. 다음 정보를 사용하여 MCP 서버 도구를 구성합니다.
   - **서버 URL**: MCP 서버의 URL(예: `https://gitmcp.io/Azure/azure-rest-api-specs`)을 입력합니다.
   - **서버 레이블**: 고유 식별자(예: "github_docs_server")를 입력합니다.

1. MCP 서버의 모든 도구를 허용하려면 **허용된 도구** 드롭다운을 비워 둡니다.

1. **도구 만들기** 단추를 선택하여 에이전트에 도구를 추가합니다.

## Azure AI Foundry에 에이전트 배포

1. 디자이너 보기의 왼쪽 아래 모서리에 있는 **Azure AI Foundry에서 만들기** 단추를 선택합니다.

1. 배포가 완료될 때가지 기다립니다.

1. VS Code 탐색 모음에서 **Azure 리소스** 보기를 새로 고칩니다. 이제 배포된 에이전트가 **에이전트** 하위 섹션 아래에 표시됩니다.

## 플레이그라운드의 에이전트 테스트

1. **에이전트** 하위 섹션에서 배포된 에이전트를 마우스 오른쪽 단추로 클릭합니다.

1. 상황에 맞는 메뉴에서 **플레이그라운드 열기**를 선택합니다.

1. 에이전트 플레이그라운드가 VS Code 내의 새 탭에서 열립니다.

1. 다음과 같이 테스트 프롬프트를 입력합니다.

   ```output
   Can you help me find documentation about Azure Container Apps and provide an example of how to create one?
   ```

1. 메시지를 보내고 MCP 서버 도구에 대한 인증 및 승인 프롬프트를 확인합니다.
    - 이 연습에서는 메시지가 표시되면 **인증 없음**을 선택합니다.
    - MCP 도구 승인 기본 설정의 경우 **항상 승인**을 선택할수 있습니다.

1. 에이전트의 응답을 검토하고 MCP 서버 도구를 사용하여 외부 정보를 검색하는 방법을 확인합니다.

1. **에이전트 주석** 섹션을 확인하여 에이전트에서 사용하는 정보의 원본을 확인합니다.

## 에이전트에 대한 샘플 코드 생성

1. 배포된 에이전트를 마우스 오른쪽 단추로 클릭하고 **코드 파일 열기**를 선택하거나 에이전트 기본 설정 페이지에서 **코드 파일 열기** 단추를 선택합니다.

1. 드롭다운에서 원하는 SDK(Python, .NET, JavaScript 또는 Java)를 선택합니다.

1. 선호하는 프로그래밍 언어를 선택합니다.

1. 원하는 인증 방법을 선택합니다.

1. 에이전트와 프로그래밍 방식으로 상호 작용하는 방법을 보여 주는 생성된 샘플 코드를 검토합니다.

이 코드를 AI 에이전트를 활용하는 애플리케이션을 빌드하기 위한 시작점으로 사용할 수 있습니다.

## 대화 기록 및 스레드 보기

1. **Azure 리소스** 보기에서 **스레드** 하위 섹션을 확장하여 에이전트 상호 작용 중에 생성된 대화를 확인합니다.

1. 스레드를 선택하여 다음과 같은 **스레드 세부 정보** 페이지를 봅니다.
   - 대화의 개별 메시지
   - 실행 정보 및 실행 세부 정보
   - 에이전트 응답 및 도구 사용

1. **실행 정보 보기**를 선택하여 각 실행에 대한 자세한 JSON 정보를 확인합니다.

## 요약

이 연습에서는 Azure AI Foundry VS Code 확장을 사용하여 MCP 서버 도구로 AI 에이전트를 만들었습니다. 에이전트는 모델 컨텍스트 프로토콜을 통해 외부 데이터 원본 및 API에 액세스할 수 있으므로 최신 정보를 제공하고 다양한 서비스와 상호 작용할 수 있습니다. 또한 플레이그라운드에서 에이전트를 테스트하고 프로그래밍 방식 상호 작용을 위한 샘플 코드를 생성하는 방법을 알아보았습니다.

## 정리

Azure AI Foundry VS Code 확장 탐색을 마쳤으면 불필요한 Azure 비용이 발생하지 않도록 리소스를 정리해야 합니다.

### 에이전트 삭제

1. Azure AI Foundry 포털의 탐색 메뉴에서 **에이전트**를 선택합니다.

1. 에이전트를 선택한 다음, **삭제** 단추를 선택합니다.

### 모델 삭제

1. VS Code에서 **Azure 리소스** 보기를 새로 고칩니다.

1. **모델** 하위 섹션을 확장합니다.

1. 배포된 모델을 마우스 오른쪽 단추로 클릭하고 **삭제**를 선택합니다.

### 다른 리소스 삭제

1. [Azure Portal](https://portal.azure.com)을 엽니다.

1. AI Foundry 리소스가 포함된 리소스 그룹으로 이동합니다.

1. **리소스 그룹 삭제**를 선택하고 삭제를 확인합니다.